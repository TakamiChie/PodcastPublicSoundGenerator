<!doctype html>
<html>

<head>
  <title>Podcast Public Sound Generator(PPSG)</title>
</head>

<body>
  <h1>Podcast Public Sound Generator(PPSG)</h1>
  <form action="{{ url_for('mix') }}" method="post" enctype="multipart/form-data">
    <label for="audio">ポッドキャスト音声:</label>
    <input type="file" name="audio" id="audio" required><br><br>
    <label for="bgm">BGM:</label>
    <select name="bgm" id="bgm" required>
      {% for group_data in options %}
      <optgroup label="{{ group_data.group_label }}">
        {% for opt in group_data.options %}
        <option value="{{ opt.file }}">{{ opt.label }}({{ opt.stem }})</option>
        {% endfor %}
      </optgroup>
      {% endfor %}
    </select><br><br>
    <button type="button" id="previewBtn">BGM視聴</button><br><br>
    <audio id="previewAudio"></audio>
    <button type="submit">ミックスしてダウンロード</button>
  </form>
  <hr>
  <h2>カバーアート生成</h2>
  <div id="coverGenerator">
    <label for="template">テンプレート:</label>
    <select id="template" required>
      {% for t in templates %}
      <option value="{{ t }}">{{ t }}</option>
      {% endfor %}
    </select><br><br>
    <label for="title">タイトル:</label>
    <input type="text" id="title"><br><br>
    <label for="date">配信日(YYYY-MM-DD):</label>
    <input type="text" id="date"><br><br>
    <label for="genre">ジャンル:</label>
    <input type="text" id="genre"><br><br>
  </div>
  <div id="previewArea"></div>
  <a id="downloadLink"></a>
  <script src="{{ url_for('static', filename='js/preview.js') }}"></script>
  <script src="{{ url_for('static', filename='js/coverart.js') }}"></script>
</body>

</html>
